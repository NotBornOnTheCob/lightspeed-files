!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){return o(e[i][1][r]||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],2:[function(require,module,exports){const UserInput=require("./user_input");let killYTAutoplayInt,hideYTAvatarInt,lastBodyText;const urlObject=new URL(window.location.href);urlObject.hostname.match("(^|.)youtube.")&&(window.onpopstate=function(){window.location.reload()});const blockYTImg=chrome.extension.getURL("blocked-image-search.png"),hideYTAvatars=function(){[...document.querySelectorAll("#avatar")].forEach(t=>{[...t.getElementsByTagName("img")].forEach(i=>{i.src!==blockYTImg&&(i.src=blockYTImg)})})},killYTAutoplay=function(){const a=document.createElement("A");if(a.href=window.location.href,a.hostname.match(/(^|\.)youtube\./)&&(a.pathname.match(/^\/user\/[^\/\?]+$/)||a.pathname.match(/^\/channel\/[^\/\?]+$/)||a.pathname.match(/^\/c\/[^\/\?]+$/)||a.pathname.match(/\/featured$/))){const v=document.getElementsByTagName("video");if(v.length>0)for(i in v)if("function"==typeof v[i].pause){v[i].paused||(console.debug("[LS Filter] pause autoplay"),v[i].pause());const c=v[i].closest("ytd-channel-video-player-renderer");c&&"none"!==c.style.display&&(console.debug("[LS Filter] hide autoplay container"),c.style.display="none")}}},killMiniPlayers=function(){const vc=document.getElementById("video-preview-container");vc&&vc.remove();const mp=document.getElementsByTagName("ytd-miniplayer");mp.length>0&&mp[0].remove(),document.querySelectorAll("div#mouseover-overlay").forEach(d=>{d.remove()}),document.querySelectorAll("div#hover-overlays").forEach(d=>{d.remove()})},fadeBadgeNotice=function(){const flashNotice=document.getElementById("read-only-flash-notice");let times=0;const int=setInterval(()=>{times++;const opacity=100-times;opacity<1?(clearInterval(int),flashNotice.style.display="none"):flashNotice.style.opacity=(opacity/100).toString()},15);clearTimeout(window.readOnlyNoticeTimeout)},handleSettings=function(settings){urlObject.hostname.match(/^localhost/)||UserInput.Init(),settings.flag_scan&&function(){let scanInterval,currentText;void 0!==scanInterval&&clearInterval(scanInterval);const scan=()=>{currentText=document.body.innerText,currentText!==lastBodyText&&(lastBodyText=currentText,chrome.runtime.sendMessage({action:"flags",text:currentText}))};scanInterval=setInterval(scan,5e3),scan()}(),urlObject.hostname.match(/(^|\.)youtube\./)&&function(ytSettings){if(void 0===ytSettings)return;const style=document.createElement("STYLE");if(style.type="text/css",style.innerText="",ytSettings.hide_sidebar&&(console.debug("[LS Helper] hide sidebar"),style.innerText+=".watch-sidebar, .ytd-watch-next-secondary-results-renderer {display: none !important;}\n"),ytSettings.hide_comments&&(console.debug("[LS Helper] hide comments"),style.innerText+="#watch-discussion, .watch-discussion, ytd-comments {display: none !important;}\n"),""!==style.innerText){let head=document.getElementsByTagName("head");head&&head.length>0&&(head=head[0],head.append(style))}ytSettings.disable_chan_autoplay&&(console.debug("[LS Helper] disable autoplay"),void 0!==killYTAutoplayInt&&(clearInterval(killYTAutoplayInt),killYTAutoplayInt=void 0),killYTAutoplay(),killYTAutoplayInt=setInterval(killYTAutoplay,1e3)),ytSettings.block_thumbnails&&(console.debug("[LS Helper] block thumbnails"),void 0!==hideYTAvatarInt&&(clearInterval(hideYTAvatarInt),hideYTAvatarInt=void 0),hideYTAvatars(),hideYTAvatarInt=setInterval(hideYTAvatars,1e3)),console.debug("[LS Helper] hide miniplayers"),"undefined"!=typeof killMiniPlayerInt&&(clearInterval(killMiniPlayerInt),killMiniPlayerInt=void 0),killMiniPlayers(),killMiniPlayerInt=setInterval(killMiniPlayers,1e3)}(settings.ytSettings),settings.readOnly&&function(text){if(document.documentElement&&document.documentElement.clientHeight<250)return;const flashNotice=document.createElement("div");flashNotice.id="read-only-flash-notice",flashNotice.style.display="block",flashNotice.style.position="fixed",flashNotice.style.top="16px",flashNotice.style.right="16px",flashNotice.style.background="#343d47",flashNotice.style.borderRadius="4px",flashNotice.style.boxShadow="0 2px 4px rgba(0,0,0,0.25)",flashNotice.style.color="#ffffff",flashNotice.style.maxWidth="400px",flashNotice.style.overflow="hidden",flashNotice.style["z-index"]="2147483647";const messageContainer=document.createElement("div");messageContainer.style.float="left",messageContainer.style.padding="16px";const message=document.createElement("div");message.innerText=text;const buttonContainer=document.createElement("div");buttonContainer.style.borderLeftStyle="solid",buttonContainer.style.borderLeftWidth="1px",buttonContainer.style.borderColor="#505861",buttonContainer.style.float="left";const button=document.createElement("a");button.style.color="#ffffff",button.style.cursor="pointer",button.style.display="block",button.style.padding="16px",button.style.textDecoration="none",button.innerText="Dismiss",button.addEventListener("click",fadeBadgeNotice),button.addEventListener("mouseenter",e=>{e.target.style.textDecoration="underline"}),button.addEventListener("mouseleave",e=>{e.target.style.textDecoration="none"}),messageContainer.appendChild(message),flashNotice.appendChild(messageContainer),buttonContainer.appendChild(button),flashNotice.appendChild(buttonContainer),document.getElementsByTagName("body")[0].appendChild(flashNotice),document.getElementById("read-only-flash-notice").style.setProperty("font-size","16px","important"),window.readOnlyNoticeTimeout=setTimeout(()=>{fadeBadgeNotice()},8e3)}("This website is in read only mode.")};chrome.runtime.sendMessage({action:"settings",href:window.location.href},response=>{switch(console.debug("[LightspeedHelper] message",response),response.action){case"settings":handleSettings(response)}})},{"./user_input":3}],3:[function(require,module,exports){(function(process){(function(){const supportedDOMEvents=["change","keyup"],FB=require("./modules/facebook"),Twitter=require("./modules/twitter"),Gmail=require("./modules/gmail"),YouTube=require("./modules/youtube"),TikTok=require("./modules/tiktok"),Tumblr=require("./modules/tumblr"),Sheets=require("./modules/sheets");class UserInput{constructor(urlObject){if(void 0===urlObject)throw new Error("url object required");this.UrlObject=urlObject,this.lastBodyText="",this.modules=[];const fbModule=new FB(urlObject);fbModule.disabled||this.modules.push(fbModule);const twitterModule=new Twitter(urlObject);twitterModule.disabled||this.modules.push(twitterModule);const gmailModule=new Gmail(urlObject);gmailModule.disabled||this.modules.push(gmailModule);const ytModule=new YouTube(urlObject);ytModule.disabled||this.modules.push(ytModule);const tiktokModule=new TikTok(urlObject);tiktokModule.disabled||this.modules.push(tiktokModule);const tumblrModule=new Tumblr(urlObject);tumblrModule.disabled||this.modules.push(tumblrModule);const sheetsModule=new Sheets(urlObject);sheetsModule.disabled||this.modules.push(sheetsModule),this.BindToDOM()}DOMExtractAndScan(event){if(void 0===event.target)throw new Error("event has no target");let values,scanType;switch(event.type){case"scan":scanType="GatherIntent";break;default:scanType=event.target.tagName.toLowerCase()}switch(scanType){case"input":let type=event.target.type||"text";if(type=type.toLowerCase(),"password"===type)break;values=[event.target.value];break;case"textarea":values=[event.target.value];break;case"div":if(event.target.attributes&&event.target.attributes.role&&"textbox"===event.target.attributes.role.value){values=[event.target.innerText];break}default:values=[],this.modules.forEach(module=>{if("function"==typeof module.GatherIntent){const intent=module.GatherIntent();"string"==typeof intent?values.push(intent):Array.isArray(intent)&&(values=values.concat(intent))}})}void 0!==values&&values.forEach(value=>{let target;target=void 0!==event.target&&event.target?event.target:document,""===value?target.RelayFlaggedTerms={}:(void 0===target.RelayFlaggedTerms&&(target.RelayFlaggedTerms={}),void 0===target.RelayFlaggedTerms[value]&&(chrome.runtime.sendMessage({action:"eval",text:value}),target.RelayFlaggedTerms[value]=!0))})}HandleDOM_change(event){if(void 0===event)throw new Error("event required");if("change"!==event.type)throw new Error("event must be a change event");if(void 0===event.target)throw new Error("event has no target");void 0!==event.target.tagName&&this.DOMExtractAndScan(event)}HandleDOM_keyup(event){if(void 0===event)throw new Error("event required");if("keyup"!==event.type)throw new Error("event must be a keyup event");if(void 0===event.target)throw new Error("event has no target");void 0!==event.target.tagName&&this.DOMExtractAndScan(event)}HandleDOM(event){if(void 0===event)throw new Error("event required");if(-1===supportedDOMEvents.indexOf(event.type))throw new Error("unsupported event type - "+event.type);"function"==typeof this["HandleDOM_"+event.type]&&this["HandleDOM_"+event.type](event)}BindToDOM(){document.addEventListener("change",this.HandleDOM.bind(this)),document.addEventListener("keyup",this.HandleDOM.bind(this)),setInterval(()=>{this.DOMExtractAndScan(new Event("scan"))},1e3)}}let lastText;const pageScanInt=process.env.PAGE_SCAN_INT||1e3;function PageScan(a){!function(){if(window.location.hostname.match(/google(\.\w{2,5}){1,2}$/i)&&window.location.search&&""!==window.location.search){let term=window.location.search.replace(/^\?/,"").match(/q=([^&]+)(&|$)/i);term&&term[1]&&(term=term[1],term=decodeURIComponent(term.replace(/\+/g," ")),chrome.runtime.sendMessage({action:"eval",text:term}))}}(),setInterval(()=>{let docContainers;if(a.href.match(/(^|\.)officeapps\.live\.com$/)?docContainers=document.getElementsByClassName("PageContentContainer"):a.href.match(/docs\.google\.com\/document/)?docContainers=document.getElementsByClassName("kix-appview-editor-container"):a.href.match(/docs\.google\.com\/presentation/)&&(docContainers=[document.getElementById("workspace-container")]),docContainers&&docContainers[0]){const newText=docContainers[0].innerText;newText!==lastText&&chrome.runtime.sendMessage({action:"eval",text:newText}),lastText=newText}},pageScanInt)}module.exports.Init=function(){console.log("[InitUserInput]");const urlObject=new URL(window.location.href);PageScan(urlObject),new UserInput(urlObject)},module.exports.UserInput=UserInput}).call(this)}).call(this,require("_process"))},{"./modules/facebook":4,"./modules/gmail":5,"./modules/sheets":6,"./modules/tiktok":7,"./modules/tumblr":8,"./modules/twitter":9,"./modules/youtube":10,_process:1}],4:[function(require,module,exports){module.exports=class{constructor(urlObject){if(void 0===urlObject)throw new Error("URL Object required");this.disabled=!0,this.moduleName="facebook",urlObject.hostname.match(/\.?facebook\.com$/i)&&(this.disabled=!1)}GatherIntent(){if(this.disabled)return;const ret=[];return document.querySelectorAll('[data-text="true"]').forEach(e=>{ret.push(e.innerText)}),ret}}},{}],5:[function(require,module,exports){module.exports=class{constructor(urlObject){if(void 0===urlObject)throw new Error("URL Object required");this.disabled=!0,this.moduleName="gmail",urlObject.hostname.match(/mail\.google\.com$/i)&&(this.disabled=!1)}GatherIntent(){if(this.disabled)return;const ret=[];return document.querySelectorAll('[role="textbox"]').forEach(e=>{ret.push(e.innerText)}),ret}}},{}],6:[function(require,module,exports){module.exports=class{constructor(urlObject){if(void 0===urlObject)throw new Error("URL Object required");this.disabled=!0,this.moduleName="sheets",urlObject.href.match(/docs\.google\.com\/spreadsheets/i)&&(this.disabled=!1)}GatherIntent(){if(this.disabled)return;const ret=[],element=document.getElementById("waffle-rich-text-editor");return element&&ret.push(element.innerText),ret}}},{}],7:[function(require,module,exports){module.exports=class{constructor(urlObject){if(void 0===urlObject)throw new Error("URL Object required");this.disabled=!0,this.moduleName="tiktok",urlObject.hostname.match(/\.?tiktok\.com$/i)&&(this.disabled=!1)}GatherIntent(){if(this.disabled)return;const ret=[];return document.querySelectorAll('[role="combobox"]').forEach(e=>{ret.push(e.innerText)}),ret}}},{}],8:[function(require,module,exports){module.exports=class{constructor(urlObject){if(void 0===urlObject)throw new Error("URL Object required");this.disabled=!0,this.moduleName="tumblr",urlObject.hostname.match(/\.?tumblr\.com$/i)&&(this.disabled=!1)}GatherIntent(){if(this.disabled)return;const ret=[];return document.querySelectorAll(".editor-richtext,.editor-plaintext").forEach(e=>{ret.push(e.innerText)}),ret}}},{}],9:[function(require,module,exports){module.exports=class{constructor(urlObject){if(void 0===urlObject)throw new Error("URL Object required");this.disabled=!0,this.moduleName="twitter",urlObject.hostname.match(/\.?twitter\.com$/i)&&(this.disabled=!1)}GatherIntent(){if(this.disabled)return;const ret=[];return document.querySelectorAll(".tweet-box.rich-editor").forEach(e=>{ret.push(e.innerText)}),ret}}},{}],10:[function(require,module,exports){module.exports=class{constructor(urlObject){if(void 0===urlObject)throw new Error("URL Object required");this.disabled=!0,this.moduleName="youtube",urlObject.hostname.match(/\.?youtube\.com$/i)&&(this.disabled=!1)}GatherIntent(){if(this.disabled)return;const ret=[],element=document.getElementById("contenteditable-root");return element&&ret.push(element.innerText),ret}}},{}]},{},[2]);